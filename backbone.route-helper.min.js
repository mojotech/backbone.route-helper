(function(){!function(t,n){var r,o,e,l,u;return r=function(t,r,o){var e,i,a,s;return null==o&&(o={}),n.isRegExp(r)||n.isFunction(t)||(n.defaults(o,{includeRoot:!0}),null==this._patterns&&(this._patterns={}),e=null!=(a=this._patterns)[t]?(a=this._patterns)[t]:a[t]={},i=(null!=(s=r.match(/\:\w+/g))?s.length:void 0)||0,e[i]=r,null!=this[t+"Path"])?void 0:this[t+"Path"]=function(){var t,r,a,s;return t=Array.prototype.slice.call(arguments),r=n(t[t.length-1]).isObject(),i=r?arguments.length-1:arguments.length,s=e[i],a=r?t.pop():null,o.includeRoot&&(s=u(s)),l(s,t,a)}},u=function(n){var r,o,e;return r=t.history,"/"===((null!=r?null!=(e=r.options)?e.root:void 0:void 0)||"/")?n:(o=r.options.root+"/"+n,o.replace("//","/"))},l=function(t,r,e){var l,u,i,a,s;for(i=t,"/"!==i.charAt(0)&&(i="/"+i),a=0,s=r.length;s>a;a++)u=r[a],i=i.replace(/\:\w+/,u);return l=o(e),n.isEmpty(l)||(i+="?"+$.param(l)),i},o=function(t){var r,o,e;r={};for(o in t)e=t[o],n.has(t,o)&&null!=e&&(r[o]=e);return r},e=t.Router.prototype.route,t.Router.prototype.route=function(t,n,o){return e.call(this,t,n,o),r.call(this,n,t)}}(Backbone,_)}).call(this);